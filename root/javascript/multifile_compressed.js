function MultiSelector(c,f){this.list_target=c;this.count=0;this.id=0;if(f){this.max=f}else{this.max=-1}this.addElement=function(b){if(b.tagName=='INPUT'&&b.type=='file'){b.name='file_'+this.id++;b.multi_selector=this;b.onchange=function(){var d=document.createElement('input');d.type='file';this.parentNode.insertBefore(d,this);this.multi_selector.addElement(d);this.multi_selector.addListRow(this);this.style.position='absolute';this.style.left='-1000px'};if(this.max!=-1&&this.count>=this.max){b.disabled=true};this.count++;this.current_element=b}else{alert('Error: not a file input element')}};this.addListRow=function(a){var d=document.createElement('tr');d.className='upload_row';var e=document.createElement('input');e.className='new_row_button';e.type='button';e.value='Delete';d.element=a;e.onclick=function(){this.parentNode.parentNode.element.parentNode.removeChild(this.parentNode.parentNode.element);this.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode);this.parentNode.element.multi_selector.count--;this.parentNode.element.multi_selector.current_element.disabled=false;return false};d.innerHTML='<td class="filename_'+this.id+'">'+a.value+'</td>';var b=document.createElement('td');b.appendChild(e);e.className='del_button';b.className='del_td';d.appendChild(b);this.list_target.appendChild(d)}};